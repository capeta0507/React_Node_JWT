{"version":3,"sources":["components/navbar.js","components/footer.js","components/home.js","components/about.js","components/login.js","components/data.js","App.js","index.js"],"names":["Navbar","useState","isLogin","setIsLogin","userName","setUserName","useEffect","window","LoginStatus","sessionStorage","getItem","name","console","log","logout","clear","location","href","origin","className","to","src","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","onClick","Footer","Home","About","img","title","f1data","map","data","idx","photo","key","Login","props","login","setLogin","password","setPassword","for","placeholder","value","onChange","e","target","axios","method","url","then","response","success","setItem","token","Data","setData","getToken","get","catch","error","email","App","exact","path","component","render","history","onHistory","Component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a50003a8.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {Link, NavLink} from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    const [isLogin, setIsLogin] = useState(false)\r\n    const [userName, setUserName] = useState('')\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            const LoginStatus = window.sessionStorage.getItem('res')\r\n            const name = window.sessionStorage.getItem('name')\r\n            setIsLogin(!!LoginStatus)\r\n            setUserName(name)\r\n        }\r\n    }, [])\r\n    console.log('isLogin', isLogin)\r\n    const logout = () => {\r\n        window.sessionStorage.clear()\r\n        window.location.href = `${window.location.origin}`\r\n    }\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n            <div className=\"container\">\r\n                <Link className=\"navbar-brand\" to=\"/\">\r\n                    <img className=\"logo\" src=\"https://www.thedesignfrontier.com/wp-content/uploads/2019/05/f1-logo-big.png\" alt=\"\" />\r\n                </Link>\r\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarColor01\" aria-controls=\"navbarColor01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                \r\n                <div className=\"collapse navbar-collapse\" id=\"navbarColor01\">\r\n                    <ul className=\"navbar-nav mr-auto\">\r\n                    <li className=\"nav-item active\">\r\n                        <Link to='/' className=\"nav-link\" href=\"#\">Home <span className=\"sr-only\">(current)</span></Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <NavLink to='/about' className=\"nav-link\" href=\"#\">About</NavLink>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        {(() => {\r\n                            if(isLogin === true){\r\n                                return(\r\n                                    <>\r\n                                        <NavLink to='/data' className=\"nav-link\" href=\"\">資料</NavLink>\r\n                                    </>\r\n                                )\r\n                            } else {\r\n                                return(\r\n                                    <NavLink to='/login' className=\"nav-link\">\r\n                                        資料(請先登入)\r\n                                    </NavLink> \r\n                                ) \r\n                            }\r\n                        })()}\r\n                        \r\n                    </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        <li className=\"nav-item\">\r\n                            {(() => {\r\n                                if(isLogin === true){\r\n                                    return(\r\n                                        <>\r\n                                            <div className=\"nav-link myLogout\" onClick={logout}>\r\n                                                {userName}/Logout\r\n                                            </div>\r\n                                        </>\r\n                                    )\r\n                                } else {\r\n                                    return(\r\n                                        <NavLink to='/login' className=\"nav-link\">\r\n                                             Login\r\n                                         </NavLink> \r\n                                     ) \r\n                                }\r\n                            })()}\r\n                            \r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className=\"footer bg-primary\">\r\n            &copy; Johnny 0983720128 <br />nintendof1@gmail.com <br />https://github.com/capeta0507?tab=repositories\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n            <h1>JWT</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React, {useState} from 'react'\r\n\r\nconst About = () =>  {\r\n    const [f1data] = useState([\r\n        {\r\n          name: 'Mclaren Mercedes',\r\n          img: 'Mercedes-Benz-McLaren-MP4-15-14.jpg',\r\n          title: 'MP4-15'\r\n        },\r\n        {\r\n          name: 'Mika Hakkinen',\r\n          img: 'mika-hakkinen.jpg',\r\n          title: 'Lotus -> Mclaren'\r\n        },\r\n        {\r\n          name: 'David Coulthard',\r\n          img: 'david-coulthard-portrait.jpg',\r\n          title: 'Williams -> Mclaren -> Red Bull'\r\n        }\r\n      ])\r\n    return (\r\n        <>\r\n            <div className=\"title\">\r\n                <h1>West McLaren Mercedes</h1>\r\n            </div>\r\n            <div id='myCard' className=\"row\">\r\n                {f1data.map((data,idx) => {\r\n                    let photo = data.img\r\n                    console.log(data)\r\n                    return (\r\n                    <div className=\"col-md-4 col-12\" key={idx}>\r\n                        <div className=\"card mb-3\">\r\n                        <h3 className=\"card-header\">{data.name}</h3>\r\n                        <img className=\"cardImg\" src={`images/${photo}`} alt=\"Card image\" />\r\n                        <div className=\"card-body\">\r\n                            <p className=\"card-text\">{data.title}</p>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"row\">\r\n                <ul className=\"result\">\r\n                    <li>隊名：McLaren</li>\r\n                    <li>引擎：Mercedes</li>\r\n                    <li>車型：MP4-15</li>\r\n                    <li>年份：2000</li>\r\n                    <li>勝場：7</li>\r\n                    <li>桿位：7</li>\r\n                    <li>最速圈：12</li>\r\n                    <li>年度排名：2nd</li>\r\n                    <li>車隊經理：Ron Dennis</li>\r\n                    <li>設計師：Adrian Newey</li>\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default About","import React,{ useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Login = (props) => {\r\n    const [login, setLogin] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const submit = () => {\r\n        // console.log(login,password,'登入')\r\n        axios({\r\n            method: 'POST',\r\n            url: '/api/login',\r\n            data:{\r\n              login: login,\r\n              password: password\r\n            }\r\n          }\r\n          ).then((response)=>{\r\n            console.log(response.data);\r\n            console.log(response.data.success);\r\n            if(response.data.success === true){\r\n                window.sessionStorage.setItem('name',response.data.name)\r\n                window.sessionStorage.setItem('token',response.data.token)\r\n                window.sessionStorage.setItem('user',response.data.login)\r\n                window.sessionStorage.setItem('res',response.data.success)\r\n                // props.onHistory.push('/')\r\n                // 跳轉\r\n                window.location.href = `${window.location.origin}`\r\n            } else if(response.data.success === false){\r\n                return false\r\n            }\r\n          })\r\n    }\r\n    return (\r\n        <div className=\"loginForm\">\r\n            <div className=\"form-group row\">\r\n                <label for=\"inputEmail3\" className=\"col-sm-2 col-form-label\">Email</label>\r\n                <div className=\"col-sm-10\">\r\n                    <input type=\"text\" className=\"form-control\" id=\"inputEmail3\" placeholder=\"Login\" value={login} onChange={(e) => {setLogin(e.target.value)}} />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n                <label for=\"inputPassword3\" className=\"col-sm-2 col-form-label\">Password</label>\r\n                <div className=\"col-sm-10\">\r\n                    <input type=\"password\" className=\"form-control\" id=\"inputPassword3\" placeholder=\"Password\" value={password} onChange={(e) => {setPassword(e.target.value)}} />\r\n                </div>\r\n            </div>\r\n            <div className=\"btn btn-primary\" onClick={submit}>登入</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React, {useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Data = () => {\r\n    const [data,setData] = useState([]);\r\n    useEffect(() =>{\r\n        const getToken = window.sessionStorage.getItem('token')\r\n        axios.get(`/api/users?token=${getToken}`).then(response =>{\r\n            console.log(response.data.data);\r\n            setData(response.data.data)\r\n        }).catch(error => {\r\n            console.log(error);\r\n          });\r\n    },[])\r\n    // console.log(data, 'data');\r\n    return (\r\n        <div className='row'>\r\n            {data.map((data) =>{\r\n                console.log(data, 'f1')\r\n                return(\r\n                    <div className=\"col-md-4 col-12\">\r\n                        <div className=\"card mb-3\">\r\n                            <h3 className=\"card-header\">{data.name}</h3>\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">{data.login}</h5>\r\n                                <p className=\"card-text\">{data.email}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Data","import React, {Component} from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport Navbar from './components/navbar';\r\nimport Footer from './components/footer'\r\nimport Home from './components/home'\r\nimport About from './components/about'\r\nimport Login from './components/login'\r\nimport Data from './components/data'\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  render(){\r\n    return (\r\n      <>\r\n        <BrowserRouter>\r\n          <Navbar />\r\n          <div className=\"container\">\r\n            <Switch>\r\n              <Route exact path='/' component={Home} />\r\n              <Route exact path='/about' render={() => (\r\n                <About />\r\n              )}/>\r\n              <Route exact path='/login' render={({history}) => (\r\n                <Login onHistory={history}/>\r\n              )}/>\r\n              <Route exact path='/data' render={() => (\r\n                <Data />\r\n              )}/>\r\n            </Switch>\r\n          </div>\r\n          <Footer />\r\n        </BrowserRouter>\r\n        \r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}